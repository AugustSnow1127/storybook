"use strict";(self.webpackChunkmy_storybook_app=self.webpackChunkmy_storybook_app||[]).push([[70],{"./src/stories/Rnd.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{RndModal:()=>Rnd_stories_RndModal,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Rnd_stories});var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_RndModal$parameters,_RndModal$parameters2,_RndModal$parameters3,react=__webpack_require__("./node_modules/react/index.js"),es_button=__webpack_require__("./node_modules/antd/es/button/index.js"),cjs=__webpack_require__("./node_modules/react-draggable/build/cjs/cjs.js"),cjs_default=__webpack_require__.n(cjs),lib=__webpack_require__("./node_modules/re-resizable/lib/index.js"),taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");let Icon=styled_components_browser_esm.ZP.img(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n  width: 24px;\n  height: 24px;\n  display: inline-block;\n  vertical-align: middle;\n"]))),RndStyle=styled_components_browser_esm.ZP.div(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n  // 用客製化className來控制Rnd的style\n  &.rndModal .react-draggable {\n    border: none !important;\n    overflow: hidden;\n    border-radius: 7px;\n    box-shadow: 0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05);\n    z-index: 1069;\n  }\n"]))),ModalStyle=styled_components_browser_esm.ZP.div(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.Z)(['\n  // layout\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  width: 100%;\n  height: 100%;\n\n  // font\n  color: white;\n  font-size: 16px;\n  font-family: "Segoe UI";\n  font-weight: bold;\n  text-align: left;\n\n  background: #FFFFFF;\n']))),ModalHeader=styled_components_browser_esm.ZP.div(_templateObject4||(_templateObject4=(0,taggedTemplateLiteral.Z)(["\n  // layout\n  width: 100%;\n  background: #3E4042;\n  // padding: 12px 16px;\n  display: flex;\n  justify-content: space-between;\n\n  // font\n  color: white;\n"]))),ModalTitle=styled_components_browser_esm.ZP.div(_templateObject5||(_templateObject5=(0,taggedTemplateLiteral.Z)(["\n  padding: 10px;\n"]))),CloseIcon=(0,styled_components_browser_esm.ZP)(Icon)(_templateObject6||(_templateObject6=(0,taggedTemplateLiteral.Z)(["\n  cursor: pointer;\n  padding: 10px\n"]))),ModalBody=styled_components_browser_esm.ZP.div(_templateObject7||(_templateObject7=(0,taggedTemplateLiteral.Z)(["\n  height: 100%;\n  width: 100%;\n  overflow-y: scroll;\n\n  > div {\n    height: 100%;\n    width: 100%;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    border-radius: 7px;\n    border: 2px solid #FAFAFA;\n    background: #B9B9B9;\n  }\n\n  &::-webkit-scrollbar {\n    width: 10px;\n    height: 10px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: #FAFAFA;\n  }\n"]))),RndModalChildren=styled_components_browser_esm.ZP.div(_templateObject8||(_templateObject8=(0,taggedTemplateLiteral.Z)(["\n  color: rgba(0, 0, 0, 0.65);\n"])));var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");let Rnd=_ref=>{let{children,w,h,l,t,rndClassName}=_ref,[position,setPosition]=react.useState({x:0,y:0}),[size,setSize]=react.useState({width:w,height:h,left:l,top:t}),[deltaSize,setDeltaSize]=react.useState({left:0,right:0,top:0,bottom:0}),[dragStartSize,setDragStartSize]=react.useState({width:0,height:0}),initialBounds=react.useMemo(()=>{var _window$document;let{clientWidth,clientHeight}=null===(_window$document=window.document)||void 0===_window$document?void 0:_window$document.documentElement,targetRect={left:l,right:l+w,top:t,bottom:t+h};return{left:-(null==targetRect?void 0:targetRect.left),right:clientWidth-(null==targetRect?void 0:targetRect.right),top:-(null==targetRect?void 0:targetRect.top),bottom:clientHeight-(null==targetRect?void 0:targetRect.bottom)}},[]),[bounds,setBounds]=react.useState(initialBounds),onResize=react.useCallback(_ref2=>{let{delta,direction,dSize}=_ref2;if(dragStartSize&&-1!==["top","left","topLeft","bottomLeft","topRight"].indexOf(direction)){let newLeft=dSize.left,newTop=dSize.top;switch(direction){case"bottomLeft":newLeft=dragStartSize.left-delta.width;break;case"topRight":newTop=dragStartSize.top-delta.height;break;default:newLeft=dragStartSize.left-delta.width,newTop=dragStartSize.top-delta.height}setSize({...dSize,left:newLeft,top:newTop})}},[dragStartSize]);return react.useEffect(()=>{setBounds({left:bounds.left+((null==deltaSize?void 0:deltaSize.left)||0),right:bounds.right-((null==deltaSize?void 0:deltaSize.right)||0),top:bounds.top+((null==deltaSize?void 0:deltaSize.top)||0),bottom:bounds.bottom-((null==deltaSize?void 0:deltaSize.bottom)||0)})},[deltaSize]),(0,jsx_runtime.jsx)(RndStyle,{className:rndClassName,children:(0,jsx_runtime.jsx)(cjs_default(),{onDrag:(e,data)=>{setPosition(data)},position:position,bounds:bounds,children:(0,jsx_runtime.jsx)(lib.e,{style:{position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",border:"solid 1px #ddd",background:"#f0f0f0",left:"".concat(size.left,"px"),top:"".concat(size.top,"px"),boxSizing:"border-box"},defaultSize:size,onResize:(event,direction,ref,delta)=>{onResize({delta,direction,dSize:size})},onResizeStart:(e,direction,ref,d)=>{e.stopPropagation(),setDragStartSize(size)},onResizeStop:(e,dir,ref,d)=>{setSize({...size,width:size.width+d.width,height:size.height+d.height}),setDeltaSize(({left:["left"],top:["top"],right:["right"],bottom:["bottom"],topLeft:["left","top"],bottomLeft:["left","bottom"],topRight:["right","top"],bottomRight:["right","bottom"]})[dir].reduce((acc,cur)=>(acc[cur]=d["left"===cur||"right"===cur?"width":"height"],acc),{})),setDragStartSize(void 0)},minHeight:320,minWidth:480,children:children})})})};Rnd.defaultProps={w:500,h:360,l:300,t:300,rndClassName:"rndModal"},Rnd.__docgenInfo={description:"",methods:[],displayName:"Rnd",props:{w:{defaultValue:{value:"500",computed:!1},description:"",type:{name:"number"},required:!1},h:{defaultValue:{value:"360",computed:!1},description:"",type:{name:"number"},required:!1},l:{defaultValue:{value:"300",computed:!1},description:"",type:{name:"number"},required:!1},t:{defaultValue:{value:"300",computed:!1},description:"",type:{name:"number"},required:!1},rndClassName:{defaultValue:{value:"'rndModal'",computed:!1},description:"",type:{name:"string"},required:!1}}};let ic_close_w=__webpack_require__.p+"static/media/ic_close_w.81bea9283c5fd73e97013a594326e003.svg";var prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types);let RndContext=(0,react.createContext)(),useRndStore=()=>(0,react.useContext)(RndContext),RndContextProvider=_ref=>{let{children}=_ref,[rndStatus,dispatchRndStatus]=react.useReducer((state,action)=>"rndModal"===action.type?{...state,rndModal:!state.rndModal}:state,{rndModal:!1});return(0,jsx_runtime.jsx)(RndContext.Provider,{value:{rndStatus,dispatchRndStatus},children:children})};RndContext.propTypes={children:prop_types_default().node.isRequired},RndContextProvider.__docgenInfo={description:"",methods:[],displayName:"RndContextProvider"};let RndModal=_ref=>{let{children,title,storeKey}=_ref,{dispatchRndStatus}=useRndStore();return(0,jsx_runtime.jsx)(Rnd,{children:(0,jsx_runtime.jsxs)(ModalStyle,{children:[(0,jsx_runtime.jsx)(ModalHeader,{children:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ModalTitle,{children:title}),(0,jsx_runtime.jsx)(CloseIcon,{src:ic_close_w,onClick:()=>dispatchRndStatus({type:storeKey})})]})}),(0,jsx_runtime.jsx)(ModalBody,{children:children})]})})};RndModal.defaultProps={children:null,title:"RndModal"},RndModal.__docgenInfo={description:"",methods:[],displayName:"RndModal",props:{children:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"node"},required:!1},title:{defaultValue:{value:"'RndModal'",computed:!1},description:"",type:{name:"string"},required:!1},storeKey:{description:"",type:{name:"string"},required:!0}}};let RndDemo=_ref=>{let{storeKey}=_ref,{rndStatus,dispatchRndStatus}=useRndStore();return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(es_button.Z,{type:"primary",onClick:()=>dispatchRndStatus({type:storeKey}),children:"Click ME!"}),(0,jsx_runtime.jsx)(()=>rndStatus.rndModal?(0,jsx_runtime.jsx)(RndModal,{storeKey:storeKey,children:(0,jsx_runtime.jsx)(RndModalChildren,{children:"This is a Resizable and Draggable Modal"})}):null,{})]})},Rnd_RndDemo=react.memo(RndDemo);RndDemo.__docgenInfo={description:"",methods:[],displayName:"RndDemo"};let Rnd_stories={title:"Example/Rnd",component:args=>(0,jsx_runtime.jsx)(RndContextProvider,{children:(0,jsx_runtime.jsx)(Rnd_RndDemo,{...args})}),tags:["rnd"]},Rnd_stories_RndModal={args:{storeKey:"rndModal"}};Rnd_stories_RndModal.parameters={...Rnd_stories_RndModal.parameters,docs:{...null===(_RndModal$parameters=Rnd_stories_RndModal.parameters)||void 0===_RndModal$parameters?void 0:_RndModal$parameters.docs,source:{originalSource:'{\n  args: {\n    storeKey: "rndModal"\n  }\n}',...null===(_RndModal$parameters2=Rnd_stories_RndModal.parameters)||void 0===_RndModal$parameters2?void 0:null===(_RndModal$parameters3=_RndModal$parameters2.docs)||void 0===_RndModal$parameters3?void 0:_RndModal$parameters3.source}}};let __namedExportsOrder=["RndModal"]}}]);